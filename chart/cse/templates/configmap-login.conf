{{- if .Values.cse.auth.spnego.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: login.conf
data:
  login.conf: |
    spnego-client {
      com.sun.security.auth.module.Krb5LoginModule required
      useKeyTab=true
      keyTab="{{ .Values.cse.auth.spnego.keyTabPath }}"
      storeKey=true
      doNotPrompt=true
      principal="{{ .Values.cse.auth.spnego.principal }}"
      isInitiator=true
      refreshKrb5Config=true
      debug=true;
    };
{{- end }}
